<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap.css">
    <script src='https://cdn.bootcss.com/jquery/3.3.1/jquery.js'></script>
    <link rel="stylesheet" type="text/css" href="css/weather.css">
    <title>Document</title>
</head>

<body>
    <header>
        <nav class="navbar navbar-dark bg-secondary">
            <div class="container-fluid">
                <a href="#" class="navbar-brand">
                    <img src="images/myLogo.png" alt="">
                </a>
            </div>
        </nav>

    </header>
    <main>
        <div class="container">
            <div class="row py-5 justify-content-center">
                <div class="col-12 text-center display-4">
                    天气呀
                </div>
                <div class="col-12 py-4">
                    <ul class="list-group w-50 mx-auto">

                        <li class="list-group-item"><span class="week"></span></li>
                        <li class="list-group-item">温度：<span class="temp"></span> </li>
                        <li class="list-group-item">天气：<span class="weather"></span></li>
                        <li class="list-group-item">风向：<span class="wind"></span></li>

                    </ul>
                </div>
                <div class="col-6 d-flex justify-content-around">
                    <button id='getTodayWeather' class="btn btn-sm btn-outline-primary">today's weather</button>
                    <button id='getTmrWeather' class="btn btn-sm btn-outline-success">tmr's weather</button>
                    <button id='getTmrTmrWeather' class="btn btn-sm btn-outline-info">tmr's tmr's weather</button>
                </div>
            </div>
        </div>
        </div>
    </main>
    <footer>
        <div class="container-fluid">
            <div class="navbar navbar-dark bg-info fixed-bottom justify-content-end">
                <a href="#" class="navbar-brand">
                    <img src="images/myLogo.png" alt="">
                </a>
            </div>
        </div>
    </footer>

    <script>
        var i = 0;
        var heading = $('.display-4');
        $(document).ready(
            GetJson() 
        );//默认今天天气

        $('#getTodayWeather').on('click',function(){
            i = 0;
            GetJson();
        });
        $('#getTmrWeather').on('click',function(){
            i = 1;
            GetJson();
        });
        $('#getTmrTmrWeather').on('click',function(){
            i = 2;
            GetJson();
        });

        function GetJson() {
            $.ajax({
                url: "http://v.juhe.cn/weather/index?format=2&cityname=252&key=5b51a178714e52e7fe17033123a42e47",
                type: 'GET',
                dataType: 'JSONP',
                success:function(json){ 
                    WriteWeather(json)}
            })

        };

        function WriteWeather(data) {
            var date = data.result.future[i];
            $('.week').html(date.week);
            $('.temp').html(date.temperature);
            $('.weather').html(date.weather);
            $('.wind').html(date.wind);
        }

    </script>


</body>

</html>